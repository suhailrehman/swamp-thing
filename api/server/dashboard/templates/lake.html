{% extends 'base.html' %}

{% block page_name %}Lake Configuration{% endblock %}

{% block content %}
<div class="row">
        <div class="col-xs-12">
          <div class="box">
            <div class="box-header">
              <h3 class="box-title">Data Lakes</h3>
            </div>
            <!-- /.box-header -->
            <div class="box-body">
              <table id="lakestable" class="table table-hover table-bordered table-striped datatable">
              	<thead>
                <tr>
                  <th>Lake Name</th>
                  <th>AQMP URL</th>
                  <th>Crawl Queue Name</th>
                  <th>Discover Queue Name</th>
                  <th>Update Queue Name</th>
                </tr>
            </thead>
              <tbody></tbody></table>
            </div>
            <!-- /.box-body -->
          </div>
          <!-- /.box -->
        </div>
      </div>

{% endblock %}


{% block extra_foot %}
<script>
$.getJSON("/api/lakes/", function( dataset ) {
 

    $('#lakestable').DataTable({
        "data": dataset,
        "columns": [{
            "data": "name"
        }, {
            "data": "aqmp_url"
        }, {
            "data": "crawl_queue_name"
        }, {
            "data": "discover_queue_name"
        }, {
            "data": "update_queue_name"
        }, 
        ],
        'paging'      : false,
      'lengthChange': true,
      'searching'   : true,
      'ordering'    : true,
      'info'        : true,
      'autoWidth'   : true
    });
});

</script>
{% endblock %}